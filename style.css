:root {
    --bg-gray: #f2f2f2;
    --border-gray: #ccc;
    --text-black: #333;
    --highlight-blue: #4a90e2;
    --hp-red: #e74c3c;
    --hunger-yellow: #f1c40f;
    --water-blue: #3498db;
}

body {
    margin: 0;
    padding: 0;
    font-family: 'Microsoft YaHei', sans-serif;
    background-color: #333; /* 外部背景深色 */
    height: 100vh;
    display: flex;
    justify-content: center;
}

.app-container {
    width: 100%;
    max-width: 420px;
    height: 100%;
    background-color: #fff;
    display: flex;
    flex-direction: column;
    position: relative;
}

/* 顶部信息 */
.top-bar { padding: 5px 10px; font-size: 12px; border-bottom: 1px solid #eee; }
.loc-info { display: flex; justify-content: space-between; font-weight: bold; font-size: 14px; margin-bottom: 4px; }
.mini-map-btn { background: #3498db; color: white; padding: 2px 5px; font-size: 10px; border-radius: 2px; }
.time-info { text-align: center; margin-bottom: 5px; color: #555; }

.stats-grid {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 4px;
    font-size: 11px;
    color: #333;
}
.stat-hp { color: var(--hp-red); }
.stat-hunger { color: #d3a900; }
.stat-water { color: var(--water-blue); }

/* 季节栏 */
.season-bar { display: flex; height: 36px; border-top: 1px solid #ccc; border-bottom: 1px solid #ccc; }
.season-box { width: 40px; display: flex; align-items: center; justify-content: center; font-size: 20px; font-weight: bold; border-right: 1px solid #ccc; }
.weather-box { flex: 1; background: #6fa8dc; color: white; display: flex; align-items: center; justify-content: center; font-size: 20px; }

/* 存活栏 */
.survive-bar { display: flex; border-bottom: 1px solid #ccc; padding: 5px; font-size: 11px; color: #3498db; }
.survive-bar span { flex: 1; text-align: center; border-right: 1px solid #eee; }

/* 筛选栏 */
.filter-bar { padding: 5px 10px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #eee; }
.small-btn { font-size: 10px; padding: 2px 5px; background: white; border: 1px solid #999; }
.checkboxes label { font-size: 12px; margin-left: 5px; font-weight: bold; }
.checkboxes input { vertical-align: middle; }

/* --- 核心区域：模仿截图的格子列表 --- */
.content-area {
    flex: 1;
    background: #f9f9f9;
    padding: 10px;
    overflow-y: auto;
}

.item-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    align-content: flex-start;
}

.grid-btn {
    background: #fff;
    border: 1px solid #ccc;
    padding: 8px 12px;
    font-size: 13px;
    border-radius: 4px;
    box-shadow: 1px 1px 2px rgba(0,0,0,0.05);
    cursor: pointer;
    white-space: nowrap;
}
.grid-btn:active { background: #eee; }
/* 怪物名字设为红色，模仿截图 */
.grid-btn.mob { color: #c0392b; border-color: #e6b0aa; }
.grid-btn.res { color: #333; }

/* 日志区 */
.log-area {
    height: 120px;
    border-top: 1px solid #ccc;
    padding: 5px 10px;
    font-size: 12px;
    color: #333;
    overflow-y: auto;
    background: #fff;
    line-height: 1.5;
}
.log-area p { margin: 2px 0; }

/* --- 控制面板 (关键：模仿截图底部) --- */
.control-panel {
    height: 100px;
    border-top: 1px solid #ccc;
    display: flex;
    background: #fff;
}

/* 左侧十字地图 */
.d-pad-map {
    width: 100px; /* 左侧宽度 */
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(3, 1fr);
    padding: 5px;
    gap: 2px;
    border-right: 1px solid #eee;
}

.d-cell {
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 10px;
    color: #999;
}
.d-cell.dir-btn {
    border: 1px solid #eee;
    color: #d35400; /* 土黄色字 */
    cursor: pointer;
}
.d-cell.current-loc {
    background: #8bc34a; /* 绿色背景 */
    color: white;
    font-weight: bold;
}
.d-cell.empty { background: transparent; }

/* 右侧按钮 */
.action-buttons {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: space-around;
    padding: 0 10px;
}
.func-btn {
    background: #fff;
    border: 1px solid #ccc;
    padding: 6px 12px;
    font-size: 12px;
    color: #333;
    border-radius: 2px;
}
.func-btn.active {
    border: 1px solid #3498db;
    color: #3498db;
}

/* 底部导航 */
.bottom-nav {
    height: 45px;
    background: #fdfdfd;
    border-top: 1px solid #ccc;
    display: flex;
}
.nav-item {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 12px;
    color: #333;
    border-right: 1px solid #eee;
    cursor: pointer;
}
.nav-item.active {
    background: #3498db;
    color: white;
}

/* --- 地形颜色定义（如果原始文件中没有） --- */
/* 如果原始文件已有，请忽略此段 */
:root {
    /* 假设地图使用的颜色，保持一致性 */
    --color-plains: #7cfc00;
    --color-forest: #228b22;
    --color-desert: #f4a460;
    --color-mountain: #808080;
    --color-gobi: #d2b48c;
    /* 新增其他地形颜色（模仿 1000024821.jpg） */
    --color-river: #6ab0e5;
    --color-lake: #4a90e2;
    --color-swamp: #8c8f43; 
}


/* --- 地图弹窗样式 (纯白极简版) --- */
.modal {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    background: #ffffff; 
    z-index: 999;
    display: flex;
    flex-direction: column;
}
.modal.hidden { display: none; }

.modal-content {
    width: 100%; height: 100%;
    display: flex; flex-direction: column;
}

.modal-header {
    padding: 15px;
    text-align: center;
    font-size: 13px; /* 减小字号 */
    color: #999;    /* 柔和灰 */
    border-bottom: 1px solid #f5f5f5;
}

.big-map-container {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #fff; /* 整体背景纯白 */
    overflow: auto;
}

/* 地图网格 */
.big-grid {
    display: grid;
    width: 92%;
    aspect-ratio: 1/1;
    gap: 1px; /* 关键：格点之间的细线 */
    background: #f0f0f0; /* 细线的颜色：极浅灰 */
    border: 1px solid #f0f0f0;
}

.map-cell {
    width: 100%; height: 100%;
    display: flex; justify-content: center; align-items: center;
    background: #fff; /* 格子内部纯白 */
    
    /* 文字极小化、轻量化 */
    font-size: 8px; 
    font-weight: normal; 
    color: #ccc; /* 默认地形文字颜色：极浅 */
}

/* 玩家标记：仅用一个深色小点或柔和色块 */
.map-cell.player { 
    background: #fff !important; 
    color: #ff4d4d !important; /* 玩家文字用红色 */
    font-weight: bold;
    z-index: 2;
}

/* 迷雾：用淡淡的斜纹或极淡灰区分 */
.map-cell.fog { 
    background-color: #fafafa !important; 
    color: transparent; 
}

/* --- 地形文字颜色 (仅改变文字颜色，背景保持白) --- */
.map-cell.bg-PLAINS   { color: #95ba68; } 
.map-cell.bg-FOREST   { color: #568c58; }
.map-cell.bg-DESERT   { color: #d4a373; }
.map-cell.bg-MOUNTAIN { color: #a0a0a0; }
.map-cell.bg-SNOWY    { color: #a2d2ff; }
.map-cell.bg-OCEAN    { color: #4895ef; }
.map-cell.bg-SWAMP    { color: #606c38; }
.map-cell.bg-MESA     { color: #bc6c25; }

/* 地狱文字颜色 */
.map-cell.bg-NETHER   { color: #e5989b; }
.map-cell.bg-CRIMSON  { color: #b56576; }
.map-cell.bg-SOUL     { color: #6d597a; }
.map-cell.bg-LAVA     { color: #e07a5f; }

.modal-footer {
    padding: 15px;
    text-align: center;
    color: #bbb;
    font-size: 11px;
    border-top: 1px solid #f5f5f5;
}

.map-controls {
    display: flex;
    justify-content: center;
    gap: 8px;
    padding-bottom: 20px;
}
.map-controls button {
    background: #fff;
    border: 1px solid #eee;
    padding: 3px 12px;
    font-size: 10px;
    border-radius: 15px;
    color: #999;
}


/* --- 新增：视图切换 --- */
.hidden { display: none !important; }
.view-container { padding: 5px; }
.view-title { font-weight: bold; padding-bottom: 5px; border-bottom: 2px solid #ddd; margin-bottom: 10px; }

/* 列表样式 (背包/合成) */
.list-item {
    display: flex; justify-content: space-between; align-items: center;
    padding: 8px; border-bottom: 1px solid #eee; background: #fff;
    margin-bottom: 4px; border-radius: 4px;
}
.list-item button {
    background: #3498db; color: white; border: none; padding: 4px 8px; border-radius: 2px;
}

/* --- 新增：昼夜系统 (Night Mode) --- */
body.night-mode {
    background-color: #000; /* 外部背景全黑 */
}
body.night-mode .app-container {
    background-color: #1a1a1a; /* APP背景深灰 */
    color: #ccc;
}
body.night-mode .content-area, 
body.night-mode .log-area,
body.night-mode .control-panel,
body.night-mode .bottom-nav,
body.night-mode .grid-btn,
body.night-mode .modal-content, 
body.night-mode .map-cell {
    background-color: #2a2a2a; /* 组件背景 */
    color: #bbb;
    border-color: #444;
}
/* 夜晚的特殊文字颜色 */
body.night-mode .loc-info span { color: #ccc; }
body.night-mode .season-bar { background: #222; }
body.night-mode .map-cell.fog { background: #111 !important; } /* 夜晚迷雾更黑 */



/* --- 制作列表优化 --- */
.list-item {
    display: flex; 
    justify-content: space-between; 
    align-items: center;
    padding: 10px; 
    border-bottom: 1px solid #eee; 
    background: #fff;
    margin-bottom: 6px; 
    border-radius: 6px;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05);
}

/* 按钮美化 */
.list-item button {
    background: #3498db; 
    color: white; 
    border: none; 
    padding: 6px 12px; 
    border-radius: 4px;
    font-size: 12px;
    cursor: pointer;
    transition: background 0.2s;
}
.list-item button:active {
    background: #2980b9;
}

/* 背包空状态 */
#inventory-list:empty::before, #craft-list:empty::before {
    content: "暂无内容";
    display: block;
    text-align: center;
    color: #999;
    padding: 20px;
}


/* --- 理智颜色 --- */
.stat-sanity { color: #8e44ad; } /* 紫色代表理智 */

/* --- 战斗界面样式 --- */
.combat-arena {
    display: flex;
    flex-direction: column;
    height: 100%;
    background: #fff0f0; /* 淡淡的红色背景 */
    padding: 10px;
    border: 2px solid #c0392b;
    border-radius: 8px;
}

/* 夜晚战斗背景变黑 */
body.night-mode .combat-arena {
    background: #2c0505; /* 深红黑 */
    border-color: #7f0000;
}

.enemy-box {
    text-align: center;
    margin-bottom: 15px;
    padding: 10px;
    background: rgba(0,0,0,0.05);
    border-radius: 5px;
}
.enemy-title { font-size: 18px; font-weight: bold; color: #c0392b; margin-bottom: 5px; }

/* 血条 */
.hp-bar-bg { width: 100%; height: 10px; background: #ddd; border-radius: 5px; overflow: hidden; }
.hp-bar-fill { width: 100%; height: 100%; background: #e74c3c; transition: width 0.3s; }

.combat-log {
    flex: 1;
    border: 1px solid #ccc;
    background: #fff;
    padding: 8px;
    overflow-y: auto;
    font-size: 12px;
    margin-bottom: 10px;
    height: 150px;
}
body.night-mode .combat-log { background: #333; color: #ccc; border-color: #555; }

.player-actions { display: flex; gap: 10px; }
.player-actions button { flex: 1; padding: 12px; font-size: 14px; font-weight: bold; border: none; border-radius: 4px; cursor: pointer; }
.atk-btn { background: #c0392b; color: white; }
.flee-btn { background: #95a5a6; color: white; }

/* 受击震动动画 */
@keyframes shake {
    0% { transform: translate(1px, 1px) rotate(0deg); }
    10% { transform: translate(-1px, -2px) rotate(-1deg); }
    20% { transform: translate(-3px, 0px) rotate(1deg); }
    30% { transform: translate(3px, 2px) rotate(0deg); }
    40% { transform: translate(1px, -1px) rotate(1deg); }
    50% { transform: translate(-1px, 2px) rotate(-1deg); }
    60% { transform: translate(-3px, 1px) rotate(0deg); }
    70% { transform: translate(3px, 1px) rotate(-1deg); }
    80% { transform: translate(-1px, -1px) rotate(1deg); }
    90% { transform: translate(1px, 2px) rotate(0deg); }
    100% { transform: translate(1px, -2px) rotate(-1deg); }
}
.shake { animation: shake 0.5s; }


/* --- 1. 夜晚模式特殊样式 --- */

/* 夜晚模式下，按钮文字整体变亮，但怪物按钮特殊处理 */
body.night-mode .grid-btn {
    color: #ccc;
    border-color: #555;
    background: #333;
}

/* 关键修改：夜晚模式下，怪物按钮文字变红 */
body.night-mode .grid-btn.mob {
    color: #ff4d4d !important; /* 鲜艳的红色 */
    border-color: #e74c3c;
    background: #2c0505; /* 深红背景 */
    font-weight: bold;
    box-shadow: 0 0 5px rgba(231, 76, 60, 0.5); /* 添加红色光晕 */
}


/* --- 2. 战斗界面布局调整 (固定按钮) --- */

/* 确保战斗容器撑满可用空间 */
#combat-view {
    height: 100%;
    display: flex;
    flex-direction: column;
}

.combat-arena {
    /* 之前的样式 */
    display: flex;
    flex-direction: column;
    height: 100%; /* 确保占满容器高度 */
    /* ...其他背景边框样式保持不变... */
    padding: 10px;
    box-sizing: border-box; /* 确保 padding 不会撑破容器 */
}

/* 敌人信息区域固定 */
.enemy-box {
    flex-shrink: 0; /* 不允许缩小 */
    /* ...其他样式保持不变... */
}

/* 战斗日志区域：关键修改 */
.combat-log {
    /* 移除固定高度 height: 150px; */
    flex: 1; /* 让日志区域占据剩余的所有空间 */
    overflow-y: auto; /* 内容过多时出现滚动条 */
    min-height: 100px; /* 设置一个最小高度 */
    margin-bottom: 10px;
    /* ...其他边框背景样式保持不变... */
}

/* 底部按钮区域固定 */
.player-actions {
    flex-shrink: 0; /* 不允许缩小 */
    /* ...其他 flex gap 样式保持不变... */
}

/* 地狱地形颜色 */
.map-cell.bg-NETHER { color: #800000; background: #300; } /* 暗红 */
.map-cell.bg-CRIMSON { color: #DC143C; background: #400; } /* 鲜红 */
.map-cell.bg-SOUL { color: #778899; background: #222; }    /* 灵魂沙灰 */
.map-cell.bg-LAVA { color: #FF4500; background: #410; }    /* 岩浆橘 */


/* --- 修正版：物品像素图标样式 --- */

/* 修改 grid-btn 支持弹性布局 */
.grid-btn {
    display: inline-flex !important; /* 强制生效 */
    align-items: center;
    gap: 8px;             /* 稍微加大间距 */
    padding: 6px 12px;
}

/* 像素图标专用样式 */
.item-icon {
    width: 20px;
    height: 20px;
    /* 防止图片被挤压变形 */
    flex-shrink: 0; 
    
    /* 像素画渲染模式 */
    image-rendering: pixelated; 
    image-rendering: -moz-crisp-edges;
    
    /* 给图片加一点阴影，防止白色图片在白色背景看不清 */
    filter: drop-shadow(1px 1px 0px rgba(0,0,0,0.2));
}


/* --- 底部导航栏图标样式 --- */

/* 修改 nav-item 让图片和文字垂直排列 */
.nav-item {
    display: flex;
    flex-direction: column; /* 垂直排列 */
    justify-content: center;
    align-items: center;
    gap: 2px; /* 图片和文字的间距 */
    padding: 4px 0;
}

/* 导航栏图标专用样式 */
.nav-icon {
    width: 24px;  /* 比列表图标稍微大一点 */
    height: 24px;
    image-rendering: pixelated; /* 保持像素风清晰 */
}

/* 调整文字大小，防止导航栏太高 */
.nav-item span {
    font-size: 10px;
    line-height: 1.2;
}

/* --- 怪物头像专用样式 --- */
.mob-icon {
    width: 20px; 
    height: 20px;
    border-radius: 4px;
    object-fit: contain;
    image-rendering: pixelated;
    margin-right: 4px;
    vertical-align: middle;
}

/* 战斗界面大图 (优化版：防遮挡) */
.combat-mob-img {
    height: 90px;        /* 缩小高度 (原150px) */
    width: auto;
    max-width: 100%;
    
    display: block;
    margin: -45px auto 5px auto; /* 调整负边距，让它刚好探出头 */
    
    image-rendering: pixelated;
    filter: drop-shadow(0 5px 5px rgba(0,0,0,0.3));
    position: relative;
    z-index: 10;
}

/* 敌人信息框 (更紧凑) */
.enemy-box {
    margin-top: 35px !important;  /* 减小顶部留白 */
    padding: 8px !important;      /* 减小内边距 */
    overflow: visible !important;
    background: #fff;
    border: 1px solid #eee;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    margin-bottom: 5px;           /* 减小底部间距 */
}

/* --- 新增：战斗内快捷回血栏 --- */
.quick-heal-bar {
    display: flex;
    gap: 5px;
    margin-bottom: 8px;
    overflow-x: auto; /* 物品多了可以横向滑动 */
    padding-bottom: 2px;
}

.heal-btn {
    display: flex;
    align-items: center;
    gap: 4px;
    background: #fff;
    border: 1px solid #2ecc71; /* 绿色边框代表回血 */
    color: #27ae60;
    padding: 4px 8px;
    border-radius: 15px; /* 胶囊形状 */
    font-size: 11px;
    cursor: pointer;
    white-space: nowrap;
}
.heal-btn img { width: 14px; height: 14px; }
.heal-btn:active { background: #e8f8f5; }

/* 调整战斗日志高度，给回血栏腾位置 */
.combat-log {
    flex: 1;
    min-height: 60px; /* 允许日志区变小 */
    margin-bottom: 5px;
}

/* --- 分类标签页样式 --- */
.category-tabs {
    display: flex;
    gap: 6px;
    padding: 0 0 10px 0;
    margin-bottom: 5px;
    border-bottom: 1px solid #f0f0f0;
    overflow-x: auto; /* 防止小屏显示不下 */
}

.tab-btn {
    flex: 1; /* 平均分配宽度 */
    padding: 6px 4px;
    border: none;
    background: #f7f8fa; /* 默认浅灰背景 */
    color: #888;
    border-radius: 6px;
    font-size: 11px;
    cursor: pointer;
    white-space: nowrap;
    transition: all 0.2s;
}

/* 选中状态：蓝色背景，白色文字 */
.tab-btn.active {
    background: #3498db;
    color: white;
    font-weight: bold;
    box-shadow: 0 2px 4px rgba(52, 152, 219, 0.3);
}

.tab-btn:active { transform: scale(0.98); }


/* 让被禁用的制作按钮更明显 */
.list-item button:disabled {
    cursor: not-allowed;
    opacity: 0.7;
}

.map-cell.bg-VILLAGE { color: #d35400; } /* 村庄为砖红色 */

/* 系统菜单按钮 */
.menu-btn {
    padding: 12px;
    font-size: 14px;
    font-weight: bold;
    border: 1px solid #ccc;
    border-radius: 8px;
    cursor: pointer;
    background: #fff;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    transition: all 0.2s;
}
.menu-btn:active { transform: scale(0.98); }

.menu-btn.save { border-color: #2ecc71; color: #27ae60; }
.menu-btn.load { border-color: #3498db; color: #2980b9; }
.menu-btn.danger { border-color: #e74c3c; color: #c0392b; background: #fff5f5; }


/* --- 全屏背包系统 --- */
#inventory-view {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    background: #fff;
    z-index: 100;
    display: flex;
    flex-direction: column;
}

/* 顶部标题栏 */
.inv-header {
    padding: 10px;
    text-align: center;
    font-weight: bold;
    border-bottom: 1px solid #eee;
    background: #fdfdfd;
    position: relative;
}
.close-inv-btn {
    position: absolute;
    left: 10px; top: 8px;
    background: #e74c3c; color: white;
    border: none; padding: 4px 10px;
    border-radius: 4px; font-size: 12px;
}

/* 标签页切换 */
.inv-tabs {
    display: flex;
    height: 40px;
    border-bottom: 1px solid #ccc;
    background: #f0f0f0;
}
.inv-tab-btn {
    flex: 1;
    border: none;
    background: transparent;
    font-weight: bold;
    color: #666;
    border-bottom: 3px solid transparent;
    transition: all 0.2s;
}
.inv-tab-btn.active {
    background: #fff;
    color: #3498db;
    border-bottom: 3px solid #3498db;
}

/* 内容区域 */
.inv-content {
    flex: 1;
    overflow-y: auto;
    padding: 10px;
    background: #fff;
}

/* --- 属性面板样式 (仿截图) --- */
.stat-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 0;
    border-bottom: 1px solid #f5f5f5;
    font-size: 13px;
}
.stat-label { color: #555; font-weight: bold; }
.stat-val { color: #333; }
.plus-btn {
    background: #eee;
    color: #aaa;
    border: 1px solid #ddd;
    width: 24px; height: 24px;
    border-radius: 4px;
    font-weight: bold;
    cursor: not-allowed;
    display: flex; align-items: center; justify-content: center;
}
.plus-btn.active {
    background: #2ecc71;
    color: white;
    border-color: #27ae60;
    cursor: pointer;
    box-shadow: 0 2px 2px rgba(46, 204, 113, 0.3);
}

/* 装备栏样式 */
.equip-slots {
    display: flex;
    gap: 10px;
    margin-bottom: 15px;
    padding-bottom: 15px;
    border-bottom: 1px solid #eee;
}
.equip-slot {
    flex: 1;
    background: #f9f9f9;
    border: 1px solid #ddd;
    border-radius: 6px;
    padding: 10px;
    text-align: center;
    font-size: 12px;
}
.equip-slot span { display: block; color: #999; margin-bottom: 5px; font-size: 10px; }
.equip-slot div { font-weight: bold; color: #333; }

/* --- 任务弹窗容器 (确保居中) --- */
#quest-modal {
    background: rgba(0, 0, 0, 0.6); /* 深色遮罩 */
    z-index: 200;
    
    /* 关键：使用 Flex 布局强制居中 */
    display: flex; 
    justify-content: center;
    align-items: center;
    
    position: fixed; /* 铺满全屏 */
    top: 0; left: 0; right: 0; bottom: 0;
}

/* --- 任务面板 (你指定的羊皮纸风格 + 屏幕适配) --- */
.quest-panel {
    /* --- 1. 你要求的视觉风格 (已保留) --- */
    background: #fdf5e6; /* 米色羊皮纸质感 */
    padding: 15px;       /* 稍微减小内边距以节省空间 */
    border: 4px double #8b4513; /* 双线棕色边框 */
    
    /* --- 2. 关键修复：屏幕适配 (自动缩小) --- */
    width: 90%;          /* 宽度只占屏幕的 90%，两边留空 */
    max-width: 320px;    /* 限制最大宽度，防止在大屏太宽 */
    max-height: 75vh;    /* 高度最多占屏幕高度的 75%，防止顶到底部 */
    
    display: flex;
    flex-direction: column;
    box-shadow: 0 10px 25px rgba(0,0,0,0.5); /* 加点阴影更立体 */
    position: relative;  /* 相对定位 */
}

/* 顶部标题 */
.quest-header {
    text-align: center;
    font-size: 16px;     /* 稍微改小一点字号适配手机 */
    font-weight: bold;
    color: #8b4513;
    border-bottom: 2px dashed #d2b48c;
    padding-bottom: 8px;
    margin-bottom: 10px;
    flex-shrink: 0;      /* 防止标题被压缩 */
}

/* 内容区域 (可滚动) */
.quest-body {
    flex: 1;             /* 占据剩余空间 */
    overflow-y: auto;    /* 内容太长时显示滚动条，而不是撑大窗口 */
    padding-right: 5px;  /* 给滚动条留点位置 */
}

#quest-title { 
    margin: 0 0 8px 0; 
    color: #333; 
    font-size: 15px; 
    font-weight: bold;
}

.quest-text { 
    font-size: 13px; 
    line-height: 1.5; 
    color: #555; 
    margin-bottom: 15px; 
}

/* 奖励框 */
.quest-rewards {
    background: rgba(0,0,0,0.05);
    padding: 8px;
    border-radius: 4px;
    margin-top: 10px;
}
.quest-rewards p { 
    margin: 0 0 4px 0; 
    font-weight: bold; 
    font-size: 12px; 
    color: #8b4513; 
}

/* 底部按钮区 */
.quest-footer {
    margin-top: 15px;
    display: flex;
    gap: 10px;
    justify-content: center;
    flex-shrink: 0; /* 防止按钮被挤压 */
}

/* 按钮样式微调 (防止太宽) */
.quest-footer .menu-btn {
    padding: 8px 15px;
    font-size: 12px;
}
